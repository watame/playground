# LT
## Bitcoin完全に理解した
### Bitcoinって今までのデジタルマネーと何が違うか
* 新しいデジタルマネー
  * 送れる、買い物できる、そのものを売買できる
  * 何が新しい？
    * 大きな課題を解決した
      * デジタルマネーは**銀行の許可が必要**
      * 世界中には銀行口座を作れない人もいる
        * 送金するのも許可制
          * 銀行同士の許可がないと出来ない
        * アプリを作るのも許可制
          * 銀行APIは勝手に使えない
      * お金がないと生きていけないし、便利にしようとしても何もかも許可が必要
* 何で許可が必要なのか
  * お金がコピーできると困る
    * デジタルデータは簡単にコピーできる事が特徴なので、認可を付けてやらないとダメ
    * 自由にできてしまうと不正がされまくってしまう
* ビットコインはどうやってお金の信用を担保しているのか？
  * アプローチ
    * 銀行だけに任せず、みんなで管理すればOK
      * 参加したい人は誰でも管理に参加できるようにしたいけど、完全に仲良くするのは難しい。。。
      * だったら持ち回りで管理しようよ
        * 許可自体をとる必要があるのだけど、独占環境ではなくなるので、許可が取れる日もある状態になるから平等よりになる
      * 誰が管理するの？
        * 競争して勝った人が管理者になろうよ
        * 競争方法は**マイニング**という計算競争
          * 計算して最初に答えを見つけた人が管理者になる
          * 報酬ももらえる（6BitCoinくらいもらえる）
          * **誰でも出来る**ことがポイント
          * マイニング
            * やってること
              * BitCoinで行われた複数の取引をInputにHash値を計算する
              * 条件を満たすまでHashを繰り返す
              * 取引を一定数まとめた物をBlockという
                * そのままだと書き換えされてしまう問題がある
                * そのため、前回のHashで生成したBlockをHash値生成の要素として利用することで、途中のBlockを書き換えたらHashがわかるようにした
                * 前のBlockが次のBlockのHash値生成に利用される、前のBlockが次のBlockで利用される、その繰り返しを行うので、BlockChainという
            * 役割
              * 管理者を決める
              * どの取引を承認するかを決める
              * bitcoinが新規に発行される
### Bitcoinで何ができるか
* お金には無限の可能性がある
  * 誰でもBitcoinを良いものにしていくことが出来る
  * インターネットと同じで、誰でも参加できる
  * Bitcoinを使って、誰でもお金をデザインできる
    * プログラムの力で進化させていくことが出来る
## +α
* 中国にマイニングの工場が多い理由
  * 電気代がものすごい安いから
  * 今は政府でストップされている

## Cloud Support完全に理解した
### Cloudについて
ベンダーがHW等のインフラを用意して、ユーザがその一部を利用するもの
#### Cloud特有の問題
* 「何もしていないのに壊れた」が起こる
  * 動かない
    * ベンダが変更してバグが入った
  * 遅い
    * ベンダが変更して問題が起こる
    * 別のお客さんがCPUを使うことで遅くなったり

Cloud Supportに連絡する
#### Cloud Supportとは
クラウドプラットフォーム上で起きた問題を解決する人
* 技術の知識・スキルとコミュニケーション能力が求められる
* 専門性が必要
  * VMやLinuxの知識も必要
* 対応が期待できること
  * 変更していないのに動かなくなった
  * プロダクトを利用するときに期待しない挙動をする
* 無理かもって思うやつ
  * 使い方を教えてほしい、これから作るのでベストプラクティスを教えてほしい

常に公式情報を参照しよう
#### Cloud Supportの立ち位置
Userと直接やり取りをした上で問題解決することに責任を持つ。
* Userとやり取りを行い、必要な情報を引き出す
* トラブルシューティング
  * ログ
  * 内部メトリクス
  * リリースや実装
  * 作った人をやり取り
* Userに説明をする

わからない時はProductチームに連絡をする
#### Cloud Supportの働き方
* ユーザとの関わり方
  * チケットで文字ベースのやり取り
  * 緊急な時はチャットやリモート会議
* トラブルシューティング
  * モニタリングツールやログ解析
  * コードを読んだりリリース履歴を追う
* チーム
  * グローバルにチームがあり、24時間対応
  * 複数言語対応

#### 働くために必要なこと
専門領域ごとに異なる求められる知識
* Serverless
  * HTTOPm RDB, NoSQLなど
* DATA
  * DWH基盤のプラクティス, Hadoop等
* Infrastructure
* Network

折れない心
  * 問題解決まであきらめない
  * フラストレーションを貯めるユーザーに共感を示しつつ対応する

#### Cloudおトラブルシューティング
ユーザーとサポートで見える情報は違う。
**クラウドにおけるトラブルシューティングはユーザーとベンダーの共同作業**

ユーザーしか見えない
* プログラム
* ビジネスロジック
ベンダーしか見えない
* 基板で発生しているログ
### Cloud Supportとのやり取りのコツ
#### 共有する情報
* 時刻
  * 問題が発生した具体的なタイムスタンプ
  * タイムゾーンを含めるべき
* プロダクト
  * 問題に関連するプロダクトと機能
* 場所
  * 問題が発生しているリージョン・ゾーン
* 識別子
  * プロジェクト、アプリケーションIDと、問題の調査に役立つ識別子
* 有用な資料
  * 問題の診断に役立つ詳細情報
  * 試してダメだった具体的な反応・エラー
* 問題のタイプ
  * 問題が断続的なものか、一時的なものか、定期的なものか

#### 優先度
サポートチケットにおける優先度・緊急度設定の考え方
* P1: 本番環境が落ちている
  * 24/7の対応となり、チケットは別の担当者に引き継がれる
    * 担当者が変わるのが懸念
    * 自らも張り付くレベルの問題の場合には有効

#### コミュニケーション
自身の変更の有無を伝える
* サポートはベンダー側の問題か、ユーザーアクションの問題か知りたがる
* 変更がないのに問題が再現すると説明することで、ベンダー問題の前提で連携しやすい

再現できるコードを提供すると解決が早まる
* ビジネスロジックを省き、問題が再現する部分だけを提供できると解決が速い

#### その他
問題の原因を知ろうとしても意味ない
* 正直知ってもどうしようもない

**サポートには優しくする**
* 問題が解決したら良いフィードバックを行う！

### まとめ
* クラウドは何もしていないのにサービスが不調になることがある
* 不調が見つかったらサポートへ連絡
* クラウド環境でのトラブルシューティングはユーザーとサポートの共同作業

https://cloud.google.com/support/docs/best-practices

## Stripeでのオンライン決済完全に理解した
### サービスを作るのに決済は避けて通れない
* サーバ費用
* 人件費
* 機会費用
* などなど
#### マネタイズ
* 広告決済
* 訪問者による決済が必要
  * 有料メディア
  * DLC
  * 物販
### 決済フォームでやること多い
* 入力されたカード情報を安全に処理
* エラーを正しくユーザーに表示
* 番号などをストレスなく入力できる
* 住所入力
#### 改正割賦販売法
カード情報は自社で一時的にでも保持しちゃダメ
通過もダメ
#### 扱う方法
* 委託する
* トークン化

### 良い感じの画面欲しい
* StripeのCheckoutが便利
  * APIで発行したURLへリダイレクトするだけでOK

* USE-SHOPPING-CART
  * カートの追加や削除・中身の取得ができる

らくちんに機能を作成しよう

### 決裁した後の処理はどうする？
* Webhookの結果としてObjectに次の画面に必要な情報が入っているので、これを使うと良いです

* 注意点
  * WebHookの都合上、URLを知っていたら誰でもアクセスできる
    * Stripeが送ってきたモノだと判断する必要がある

https://stripe.com/docs/testing
