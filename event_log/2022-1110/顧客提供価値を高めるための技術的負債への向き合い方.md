# 1. 技術的負債として最初に向き合ったもの
- Git, GitHubの導入
  - リリース頻度を高めないと、リスクテイクできない
    - リリース頻度を高めるということは、リリース時に止まらないシステムをつくるということ
  - Gitの履歴によって前に進んでいる実感を得て進めたい
- データベース、テーブルの項目の精査、洗い出し、DBカタログ作り
  - 全量を把握できる人がほとんどいなかった
- マイクロサービス化への舵切り
  - 技術スタックに入れ替えが可能な状態にする
- 組織構成をアーキテクチャに沿った形に変える

**最初にすることは味方を作ること**
-> アウェイの状態から、味方を作ってやらないと推進自体は夢のまた夢

# 2. 負債における技術構成
- デプロイの自動化がされていない
- プラットフォームのサポート終了
  - JSON parserが存在しないから自作するなど

対応は？
- 既存のMSプラットフォームをやめて、オープンソース系のプラットフォームを利用する
  - テクノロジースタックを変更して、新たなプラットフォームを利用する舵切りをした
  - サービスにフィットする技術を提供してくれるプラットフォームを剪定した
- 別の言語を選定する上で気をつけたところ
  - 既存の言語からの移行がしやすい言語を選定
    - VBを利用していたのでJavaやGoを選定した
  - 採用戦略
    - 言語によって採用戦略は大きく変わるので、採用を見据えた言語選定が必要

例外（潰していきたい部分）
- どうしても勘定系など重いシステムを利用する際に.Netなどが出てくる
  - 密結合になりがちなので、ここの負債は返済しにくい

課題
- 決済サービスのインフラ課題
  - アクセス集中によるサーバー遅延で機会損失
  - クラウドプラットフォームを利用することで、ここに対応していく

## アプローチしていく中で特に苦労したところ
- ビジネス的なモチベーションと、レガシー改善の足並みをどう合わせるか
  - リファクタリングだけではなく、技術的な改善も行う必要がある
    - ビジネスで必要ではない、と思われるところを改善することはしていない
      - 必要でないところを改善しようとすると、文句が出てくる
      - ビジネスで必要になるだろうなってところで、追加開発と改善を行うので逆算がめっちゃ必要
    - 機能を作るついでに中を改善していただけなので、**そもそも説得しない**
      - ビジネスを取っ払って改善を行うと、改善する理由を提供しないとだめ
      - 効果を報告しないとダメだから大変になる、裁量の範囲で勝手にやればOK
    - プロジェクトの中でこっそり試してみれば、納期に間に合胃さえすれば何も言われない
      -  勝手にやって、勝手に効果を実感すれば良い
- 説明責任を果たす
  - 対経営陣
    - リプレース投資への意義説明・費用対効果の説明
      - 技術的負債ではなく、リリース頻度が上がりますよとか、相手の利益がわかる言葉で説明する
      - 技術的負債を返済したいですっていうと、相手も「それって効果あるの？」って聞かざるを得ない <- 藪蛇になる
  - 対メンバー
    - 新しいチャレンジへの文化を作れる

# もう一度意思決定できるとしたらどうしておくべきだった？
- その時にいるメンバーの慣れ・採用を考慮して言語を選定したこと
  - 言語選定についても負債になってくる
  - マイグレーションのしやすさを設定すると、負債になりがち
- 採用的な面でもジャンプアップはありかなぁ

# QA
- 安定稼働しているサービスがあった場合は、技術的負債に向き合うタイミングはどのタイミング良いか？
  - 大改革を行うタイミングを擦り合わせて対応する
- テストが存在しない場合は、どのように改善する？
  - テストケースを洗い出し「そもそも正しい動きは何か」から定義していく
  - 脆弱性診断のタイミングで網羅できることもある
    - テストケース網羅が必須なので良い契機になる

# イベントURL
- https://findy.connpass.com/event/263112/
